From 98d47f6ab07bbf28c6a053658628b47ef7a430ab Mon Sep 17 00:00:00 2001
From: WangFengTu <wangfengtu@huawei.com>
Date: Sat, 21 May 2022 16:21:38 +0800
Subject: [PATCH] add x permission when create directory

Signed-off-by: WangFengTu <wangfengtu@huawei.com>
---
 src/lxc/commands.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/lxc/commands.c b/src/lxc/commands.c
index b954453..b79fc3d 100644
--- a/src/lxc/commands.c
+++ b/src/lxc/commands.c
@@ -1703,7 +1703,7 @@ int lxc_cmd_init(const char *name, const char *lxcpath, const char *suffix)
 	if (runtime_sock_dir == NULL)
 		return -1;
 
-	if (mkdir_p(runtime_sock_dir, 0600) < 0)
+	if (mkdir_p(runtime_sock_dir, 0700) < 0)
 		return log_error_errno(-1, errno, "Failed to create container runtime unix sock directory %s", path);
 
 	if (generate_named_unix_sock_path(name, suffix, path, sizeof(path)) != 0)
-- 
2.25.1

